http://os.mbed.com/users/NickRyder/code/Pulse/#fb79a4637a640e91a6fc99c9d11a4f817a837e7e